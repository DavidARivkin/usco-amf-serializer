<link rel="import" href="../polymer/polymer.html">
<script src="lib/amf-serializer.js"></script>

<polymer-element name="amf-serializer" attributes="unit origin">
  <script>
    Polymer("amf-serializer",{
      unit:"milimeter",
      origin:"usco",
      serializer : null,
      created:function()
      { 
        AMFSerializer = require( "amf-serializer" );
        this.serializer = new AMFSerializer(this.unit, this.origin);
      },
      //change handlers
      unitChanged:function()
      {
        this.serializer.unit = this.unit;
      },
      originChanged:function()
      {
        this.serializer.origin = this.origin;
      },
      //public api
      serialize:function(rootElement, compress, fileName)
      {
        return this.serializer.serialize( rootElement, compress, fileName );
      } 
    });
  </script>
</polymer>
